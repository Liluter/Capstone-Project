@use "../abstracts/mixins";
@use "../abstracts/variables" as var;
@use "../layouts/header";
@use "../layouts/footer";
@use "../components/buttons";
@use "../components/product-card";

.page-control {
	position: relative;
	width: 100%;
	display: grid;
	grid-template-columns: 1fr clamp(313px, 20vw, 330px);
	grid-template-rows: auto;
	column-gap: var.$space-large;
	row-gap: var.$space-verybig;
	@media screen and (width <= var.$brakepoint-medium) {
		grid-template-columns: 1fr 1fr;
		column-gap: 0;
		padding: 0 var.$space-medium;
		row-gap: var.$space-medium;
	}

	&__top-bar {
		position: sticky;
		top: 200px;
		grid-template-columns: 1fr auto clamp(150px, 20vw, 330px) clamp(
				150px,
				20vw,
				330px
			);
		grid-template-rows: 40px;
		grid-column: span 4;
		display: grid;
		column-gap: var.$space-regular;
		color: var.$secondary;
		row-gap: var.$space-small;
		z-index: 2;
		font-size: var.$font-size-regular;
		background-color: var.$white;
		padding: var.$space-regular var.$space-large;

		@media screen and (width <= var.$brakepoint-medium) {
			grid-template-columns: 1fr clamp(160px, 20vw, 330px) clamp(
					160px,
					20vw,
					330px
				);
			grid-column: span 3;
			top: 101px;
		}
		@media screen and (width <= var.$brakepoint-very-small) {
			grid-template-columns: 1fr 1fr;
			grid-column: span 2;

			padding-top: var.$space-regular;
			top: 64px;
		}
	}
	&__pagination-count {
		width: 100%;
		grid-column: 1/2;
		padding: 0 var.$space-medium;
		align-self: center;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-row: 2/3;
			grid-column: 1 / span 2;
		}
		@media screen and (width <= var.$brakepoint-small) {
			grid-column: 1 / span 2;
		}
	}
	&__filter-btn {
		width: 100%;
		grid-column: 2/3;
		font-size: var.$font-size-regular;
		display: grid;
		justify-items: start;

		height: 40px;

		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 1/2;
			grid-row: 1/2;
		}
		@media screen and (width <= var.$brakepoint-very-small) {
			grid-row: 2/3;
			justify-items: end;

			grid-column: 2/3;
		}
	}
	&__sort-input {
		grid-column: 3/4;
		height: 40px;
		width: 100%;
		font-family: "Montserrat", sans-serif;
		font-size: var.$font-size-regular;
		padding-left: var.$space-smallest;
		border: var.$border-regular solid var.$soft-gray;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 2/3;
			grid-row: 1/2;
		}
		@media screen and (width <= var.$brakepoint-very-small) {
			grid-row: 1/2;
			grid-column: 1/2;
		}
	}

	&__radio-input {
		grid-column: 3/4;
		height: 100%;
		width: var.$font-size-medium;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 2/3;
			grid-row: 1/2;
		}
		@media screen and (width <= var.$brakepoint-very-small) {
			grid-row: 1/2;
			grid-column: 1/2;
		}
	}
	&__search-input {
		width: 100%;
		height: 100%;
		position: relative;
		font-family: "Montserrat", sans-serif;
		border: var.$border-regular solid var.$soft-gray;
		font-size: var.$font-size-regular;
		padding-left: var.$space-smallest;
	}
	&__filter-dropdown {
		width: 100%;
		grid-column: 1/5;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-template-columns: 1fr clamp(160px, 20vw, 330px) clamp(
					160px,
					20vw,
					330px
				);
			grid-column: span 3;
		}
		@media screen and (width <= var.$brakepoint-very-small) {
			grid-template-columns: 1fr 1fr;
			grid-column: span 2;

			padding-top: var.$space-regular;
		}

		&--container {
			display: flex;
			padding: 0 var.$space-medium;
			flex-wrap: wrap;
			column-gap: var.$space-medium;
		}
	}
	&__main-content {
		grid-column: 1 / 2;
		grid-row: 2/3;
		margin-top: var.$space-medium;
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(296px, auto));
		column-gap: var.$space-small;
		row-gap: 50px;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 1/3;
			grid-row: 2/3;
		}
		@media screen and (width <= var.$brakepoint-small) {
			grid-template-columns: repeat(auto-fit, minmax(296px, auto));

			grid-column: 1/3;
			grid-row: 2/3;
		}
	}
	&__sidebar {
		grid-column: 2/3;
		grid-row: 2/3;
		margin-top: var.$space-medium;
		display: flex;
		flex-direction: column;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 1/3;
			grid-row: 4/5;
		}
	}
	&__paginator {
		grid-column: 1/2;
		grid-row: 3/4;

		@extend %display-centered;
		justify-content: space-between;

		padding: 20px;
		@media screen and (width <= var.$brakepoint-medium) {
			grid-column: 1/3;
		}
	}
	&__flex-item {
		padding: var.$space-bigger 0;
		display: flex;
		flex: 1 0 auto;
		flex-direction: column;
		row-gap: var.$space-medium;
		align-items: flex-start;
	}
}

.first-line {
	min-width: min-content;
	display: inline-block;
}
.second-line {
	min-width: max-content;
	display: inline-block;
}
.hide {
	display: none;
}
.search-container {
	grid-column: 4/5;
	grid-row: 1/2;

	position: relative;
	@media screen and (width <= var.$brakepoint-medium) {
		grid-column: 3/4;
	}
	@media screen and (width <= var.$brakepoint-very-small) {
		grid-column: 2/3;
	}
}
.search-icon {
	background-image: url("/../../assets/images/cataloge/scope.webp");
	background-size: cover;
	background-repeat: no-repeat;
	position: absolute;
	width: 18px;
	height: 18px;
	right: var.$space-regular;
	transform: translateY(62%);
}

.recommendation-list {
	display: flex;
	flex-direction: column;
	row-gap: var.$space-big;
	&__item {
		max-width: 360px;
	}
}
.recommendation-card {
	text-decoration: none;
	display: flex;
	column-gap: var.$space-medium;
	font-size: var.$font-size-regular;
	&__picture {
		background-color: rgb(11, 33, 33);
		box-shadow: var.$shadow-drop;
	}
	&__image {
		display: block;
	}

	&__rating {
		display: inline-flex;
		gap: var.$space-smallest - 1px;
	}
}

.icon-star {
	display: block;
	width: 12px;
	height: 11px;
	background-size: cover;
	&__yellow {
		background-image: url("../../assets/images/cataloge/yellow_star.webp");
	}
	&__half {
		background-image: url("../../assets/images/cataloge/half_star.webp");
	}
	&__gray {
		background-image: url("../../assets/images/cataloge/gray_star.webp");
	}
}
